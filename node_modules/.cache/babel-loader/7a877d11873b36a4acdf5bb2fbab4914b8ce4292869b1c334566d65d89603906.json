{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelRadio as _vModelRadio, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, createCommentVNode as _createCommentVNode, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"store-container\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = [\"id\", \"value\"];\nconst _hoisted_4 = [\"for\"];\nconst _hoisted_5 = {\n  key: 0,\n  class: \"quantity-container\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"total-price\"\n};\nconst _hoisted_7 = [\"disabled\"];\nconst _hoisted_8 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[6] || (_cache[6] = _createStaticVNode(\"<header class=\\\"store-header\\\" data-v-748a01b4><h1 data-v-748a01b4>Algonquin Pet Store</h1><p class=\\\"tagline\\\" data-v-748a01b4>Meals for Pets, Lessons for Students!</p></header><div class=\\\"animal-images\\\" data-v-748a01b4><img src=\\\"pictures/dog.jpg\\\" alt=\\\"Dog\\\" data-v-748a01b4><img src=\\\"pictures/cat.jpg\\\" alt=\\\"Cat\\\" data-v-748a01b4><img src=\\\"pictures/bird.jpg\\\" alt=\\\"Bird\\\" data-v-748a01b4></div>\", 2)), $data.products.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"h2\", null, \"Select a Product\", -1)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, product => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: product.id,\n      class: \"product-item\"\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"radio\",\n      id: product.id,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedProduct = $event),\n      value: product\n    }, null, 8, _hoisted_3), [[_vModelRadio, $data.selectedProduct]]), _createElementVNode(\"label\", {\n      for: product.id\n    }, [_createElementVNode(\"strong\", null, _toDisplayString(product.name), 1), _createTextVNode(\" - $\" + _toDisplayString(product.price ? product.price.toFixed(2) : 'N/A'), 1)], 8, _hoisted_4)]);\n  }), 128)), $data.selectedProduct ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    for: \"quantity\"\n  }, \"Quantity:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.quantity = $event),\n    min: \"1\",\n    placeholder: \"Enter quantity\"\n  }, null, 512), [[_vModelText, $data.quantity]])])) : _createCommentVNode(\"\", true), $data.selectedProduct ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"h3\", null, \"Total Price: $\" + _toDisplayString($options.totalPrice.toFixed(2)), 1)])) : _createCommentVNode(\"\", true), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.submitOrder && $options.submitOrder(...args)),\n    disabled: !$data.selectedProduct || $data.quantity <= 0,\n    class: \"order-button\"\n  }, \"Place Order\", 8, _hoisted_7)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, _cache[5] || (_cache[5] = [_createElementVNode(\"p\", null, \"Loading products...\", -1)])))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createStaticVNode","$data","products","length","_hoisted_2","_createElementVNode","_Fragment","_renderList","product","id","type","_cache","$event","selectedProduct","value","_hoisted_3","for","_toDisplayString","name","_createTextVNode","price","toFixed","_hoisted_4","_hoisted_5","quantity","min","placeholder","_createCommentVNode","_hoisted_6","$options","totalPrice","onClick","args","submitOrder","disabled","_hoisted_7","_hoisted_8"],"sources":["/Users/Daniyal/Desktop/Assignment/store-front-L4/src/components/OrderForm.vue"],"sourcesContent":["<template>\n  <div class=\"store-container\">\n    <!-- Header with store name and tagline -->\n    <header class=\"store-header\">\n      <h1>Algonquin Pet Store</h1>\n      <p class=\"tagline\">Meals for Pets, Lessons for Students!</p>\n    </header>\n\n    <!-- Animal images in the header -->\n    <div class=\"animal-images\">\n      <img src=\"pictures/dog.jpg\" alt=\"Dog\" />\n      <img src=\"pictures/cat.jpg\" alt=\"Cat\" />\n      <img src=\"pictures/bird.jpg\" alt=\"Bird\" />\n    </div>\n\n    <!-- Product selection and ordering process -->\n    <div v-if=\"products.length\">\n      <h2>Select a Product</h2>\n\n      <!-- Display products in a list with name and price -->\n      <div v-for=\"product in products\" :key=\"product.id\" class=\"product-item\">\n        <input\n          type=\"radio\"\n          :id=\"product.id\"\n          v-model=\"selectedProduct\"\n          :value=\"product\"\n        />\n        <label :for=\"product.id\">\n          <strong>{{ product.name }}</strong> - ${{ product.price ? product.price.toFixed(2) : 'N/A' }}\n        </label>\n      </div>\n\n      <!-- Quantity input field -->\n      <div v-if=\"selectedProduct\" class=\"quantity-container\">\n        <label for=\"quantity\">Quantity:</label>\n        <input type=\"number\" v-model=\"quantity\" min=\"1\" placeholder=\"Enter quantity\" />\n      </div>\n\n      <!-- Total Price Display -->\n      <div v-if=\"selectedProduct\" class=\"total-price\">\n        <h3>Total Price: ${{ totalPrice.toFixed(2) }}</h3>\n      </div>\n\n      <button @click=\"submitOrder\" :disabled=\"!selectedProduct || quantity <= 0\" class=\"order-button\">Place Order</button>\n    </div>\n\n    <!-- Loading message if no products are fetched yet -->\n    <div v-else>\n      <p>Loading products...</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      selectedProduct: null,\n      quantity: 1,  // Initialize quantity with a default value of 1\n    };\n  },\n  async created() {\n    await this.fetchProducts();\n  },\n  computed: {\n    totalPrice() {\n      return this.selectedProduct ? this.selectedProduct.price * this.quantity : 0;\n    }\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const response = await fetch(`${process.env.VUE_APP_PRODUCT_SERVICE_URL}/products`);        \n        if (response.ok) {\n          this.products = await response.json();\n        } else {\n          alert('Failed to fetch products.');\n        }\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        alert('Failed to fetch products.');\n      }\n    },\n    async submitOrder() {\n      if (!this.selectedProduct || this.quantity <= 0) {\n        alert('Please select a product and enter a valid quantity.');\n        return;\n      }\n\n      try {\n        const response = await fetch(`${process.env.VUE_APP_ORDER_SERVICE_URL}/orders`, {          \n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            product: this.selectedProduct,\n            quantity: this.quantity,\n            totalPrice: this.totalPrice,  // Send the total price as well\n          }),\n        });\n\n        if (!response.ok) {\n          throw new Error(`Server error: ${response.status}`);\n        }\n\n        alert(`Order for ${this.quantity} x ${this.selectedProduct.name} placed successfully! Total: $${this.totalPrice.toFixed(2)}`);\n      } catch (error) {\n        console.error('Error placing order:', error);\n        alert('Failed to place order.');\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n/* Container for the store */\n.store-container {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: rgba(255, 255, 255, 0.9); /* Make the container semi-transparent */\n  border-radius: 10px;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n}\n\n/* Header for store name and tagline */\n.store-header {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.store-header h1 {\n  font-size: 2.5rem;\n  color: #42b983;\n  margin: 0;\n}\n\n.store-header .tagline {\n  font-size: 1.2rem;\n  color: #777;\n  margin-top: 10px;\n  font-style: italic;\n}\n\n/* Header animal images */\n.animal-images {\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 20px;\n}\n\n.animal-images img {\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  object-fit: cover;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n}\n\nh2, h3 {\n  text-align: center;\n  color: #42b983;\n}\n\n.product-item {\n  display: flex;\n  align-items: center;\n  margin: 10px 0;\n  padding: 10px;\n  border: 2px solid #42b983;\n  border-radius: 10px;\n  background-color: #e3f2fd;\n}\n\n.product-item label {\n  margin-left: 10px;\n  font-size: 1.1rem;\n}\n\n/* Styling the quantity input field */\n.quantity-container {\n  margin-top: 15px;\n  display: flex;\n  align-items: center;\n}\n\n.quantity-container label {\n  margin-right: 10px;\n}\n\ninput[type=\"number\"] {\n  padding: 8px;\n  border-radius: 5px;\n  border: 1px solid #ccc;\n}\n\n/* Total price display */\n.total-price {\n  margin-top: 20px;\n  text-align: center;\n  font-size: 1.3rem;\n  font-weight: bold;\n  color: #ff6f00;\n}\n\n/* Place Order button */\n.order-button {\n  margin-top: 20px;\n  padding: 10px 20px;\n  background-color: #42b983;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  width: 100%;\n  font-size: 1.1rem;\n  transition: background-color 0.3s ease;\n}\n\n.order-button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.order-button:hover:enabled {\n  background-color: #2e7d32;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAiB;;EAD9BC,GAAA;AAAA;mBAAA;mBAAA;;EAAAA,GAAA;EAiCkCD,KAAK,EAAC;;;EAjCxCC,GAAA;EAuCkCD,KAAK,EAAC;;mBAvCxC;;EAAAC,GAAA;AAAA;;uBACEC,mBAAA,CAiDM,OAjDNC,UAiDM,G,0BAlDRC,kBAAA,+ZAgBeC,KAAA,CAAAC,QAAQ,CAACC,MAAM,I,cAA1BL,mBAAA,CA4BM,OA5CVM,UAAA,G,0BAiBMC,mBAAA,CAAyB,YAArB,kBAAgB,S,kBAGpBP,mBAAA,CAUMQ,SAAA,QA9BZC,WAAA,CAoB6BN,KAAA,CAAAC,QAAQ,EAAnBM,OAAO;yBAAnBV,mBAAA,CAUM;MAV4BD,GAAG,EAAEW,OAAO,CAACC,EAAE;MAAEb,KAAK,EAAC;wBACvDS,mBAAA,CAKE;MAJAK,IAAI,EAAC,OAAO;MACXD,EAAE,EAAED,OAAO,CAACC,EAAE;MAvBzB,uBAAAE,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAwBmBX,KAAA,CAAAY,eAAe,GAAAD,MAAA;MACvBE,KAAK,EAAEN;gBAzBlBO,UAAA,I,eAwBmBd,KAAA,CAAAY,eAAe,E,GAG1BR,mBAAA,CAEQ;MAFAW,GAAG,EAAER,OAAO,CAACC;QACnBJ,mBAAA,CAAmC,gBAAAY,gBAAA,CAAxBT,OAAO,CAACU,IAAI,OA5BjCC,gBAAA,CA4B6C,MAAI,GAAAF,gBAAA,CAAGT,OAAO,CAACY,KAAK,GAAGZ,OAAO,CAACY,KAAK,CAACC,OAAO,iB,KA5BzFC,UAAA,E;aAiCiBrB,KAAA,CAAAY,eAAe,I,cAA1Bf,mBAAA,CAGM,OAHNyB,UAGM,G,0BAFJlB,mBAAA,CAAuC;IAAhCW,GAAG,EAAC;EAAU,GAAC,WAAS,Q,gBAC/BX,mBAAA,CAA+E;IAAxEK,IAAI,EAAC,QAAQ;IAnC5B,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAmCsCX,KAAA,CAAAuB,QAAQ,GAAAZ,MAAA;IAAEa,GAAG,EAAC,GAAG;IAACC,WAAW,EAAC;gCAA9BzB,KAAA,CAAAuB,QAAQ,E,OAnC9CG,mBAAA,YAuCiB1B,KAAA,CAAAY,eAAe,I,cAA1Bf,mBAAA,CAEM,OAFN8B,UAEM,GADJvB,mBAAA,CAAkD,YAA9C,gBAAc,GAAAY,gBAAA,CAAGY,QAAA,CAAAC,UAAU,CAACT,OAAO,S,KAxC/CM,mBAAA,YA2CMtB,mBAAA,CAAoH;IAA3G0B,OAAK,EAAApB,MAAA,QAAAA,MAAA,UAAAqB,IAAA,KAAEH,QAAA,CAAAI,WAAA,IAAAJ,QAAA,CAAAI,WAAA,IAAAD,IAAA,CAAW;IAAGE,QAAQ,GAAGjC,KAAA,CAAAY,eAAe,IAAIZ,KAAA,CAAAuB,QAAQ;IAAO5B,KAAK,EAAC;KAAe,aAAW,KA3CjHuC,UAAA,E,oBA+CIrC,mBAAA,CAEM,OAjDVsC,UAAA,EAAAzB,MAAA,QAAAA,MAAA,OAgDMN,mBAAA,CAA0B,WAAvB,qBAAmB,M","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}